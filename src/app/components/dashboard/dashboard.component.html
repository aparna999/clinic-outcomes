<div class="dashboard">
  <h2>Clinic Outcomes</h2>

  <mat-tab-group>
    <mat-tab *ngFor="let period of reportingPeriods" [label]="period + ' Days'">
      <p>
        Showing 120 patients from last {{ period }} days of available data from
        09/01/2025 - 09/30/2025
      </p>
      <p>
        Only patients with a minimum of {{ period }} days are included. Last
        updated on 09/06/2025 3:00 PM
      </p>
      <div class="dashboard__row">
        <mat-card class="dashboard__card">
          <mat-card-header class="dashboard__header">
            <mat-card-title> Time in Range </mat-card-title>
            <mat-icon
              class="dashboard__icon"
              fontIcon="info"
              matTooltip="Based on standard of care ranges for Time in range"
              matTooltipPosition="below"
            ></mat-icon>
          </mat-card-header>

          <mat-card-content>
            <div class="dashboard__chart">
              <ngx-charts-bar-vertical-normalized
                [results]="timeRangeData$ | async"
                [xAxis]="false"
                [yAxis]="false"
                [legend]="showLegend"
                [legendTitle]="'mg/dL'"
                [legendPosition]="legendPosition"
                [scheme]="colorScheme"
              >
              </ngx-charts-bar-vertical-normalized>
            </div>
          </mat-card-content>
        </mat-card>

        <mat-card class="dashboard__card">
          <mat-card-header>
            <mat-card-title>Glucose Management Indicator (GMI)</mat-card-title>
          </mat-card-header>

          <mat-card-content>
            <div class="dashboard__chart">
              <ngx-charts-pie-chart
                [view]="view"
                [scheme]="colorScheme"
                [results]="gmiData$ | async"
                [gradient]="gradient"
                [legend]="showLegend"
                [legendTitle]="'GMI (%)'"
                [legendPosition]="legendPosition"
                [labels]="true"
                [doughnut]="isDoughnut"
              >
              </ngx-charts-pie-chart>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
